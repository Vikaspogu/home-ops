---
controllers:
  app:
    annotations:
      reloader.stakater.com/auto: "true"
    initContainers:
      volume-permissions:
        image:
          repository: dpage/pgadmin4
          tag: "9.12@sha256:10137f33be7ed61e47f56004493710cb5b80ba7fb0ca01758855e242f1f284a7"
        command: ["/bin/chown", "-R", "5050:5050", "/var/lib/pgadmin"]
        securityContext:
          runAsUser: 0
    containers:
      app:
        image:
          repository: dpage/pgadmin4
          tag: "9.12@sha256:10137f33be7ed61e47f56004493710cb5b80ba7fb0ca01758855e242f1f284a7"
        env:
          PGADMIN_CONFIG_ENHANCED_COOKIE_PROTECTION: "False"
        envFrom:
          - secretRef:
              name: pgadmin-secret
        resources:
          requests:
            cpu: 50m
            memory: 100Mi
          limits:
            memory: 500Mi
service:
  app:
    ports:
      http:
        port: 80
persistence:
  config:
    enabled: true
    existingClaim: pgadmin
    globalMounts:
      - path: /var/lib/pgadmin
  oauthconfig:
    type: secret
    name: pgadmin-oauth-secret
    globalMounts:
      - path: /pgadmin4/config_local.py
        subPath: config_local.py
