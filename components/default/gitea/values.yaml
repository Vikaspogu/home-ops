image:
  repository: gitea
  tag: 1.23.7
persistence:
  create: false
  claimName: "gitea"
valkey-cluster:
  enabled: false
postgresql-ha:
  enabled: false
resources:
  requests:
    memory: "200Mi"
    cpu: "50m"
  limits:
    memory: "500Mi"
    cpu: "600m"

valkey:
  enabled: true
  image:
    registry: docker.io
    repository: valkey/valkey
    tag: 9.0.0-rc2-alpine3.22
  primary:
    resources:
      requests:
        cpu: 100m
        memory: 64Mi
      limits:
        cpu: 250m
        memory: 256Mi

preExtraInitContainers:
  - name: init-db
    image: ghcr.io/home-operations/postgres-init:17.6.0@sha256:86a1992d46273c58fd4ad95b626081dfaabfe16bd56944675169e406d1a660dd
    envFrom:
      - secretRef:
          name: gitea-secret

gitea:
  admin:
    email: "gitea@local.domain"
    existingSecret: gitea-secret
