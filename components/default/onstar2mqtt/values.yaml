---
controllers:
  app:
    replicas: 0
    pod:
      annotations:
        reloader.stakater.com/auto: "true"
    containers:
      app:
        image:
          repository: ghcr.io/bigthundersr/onstar2mqtt
          tag: 2.1.0@sha256:f434d33f10cc8bda1dd0954fb1bd255a57863d38a0ae8f650c3240c5280b651d
        envFrom:
          - secretRef:
              name: onstar2mqtt
        env:
          TZ: "America/New_York"
          MQTT_HOST: "mosquitto.default.svc.cluster.local"
          MQTT_REJECT_UNAUTHORIZED: "false"
          MQTT_USERNAME: "dummy"
          MQTT_PASSWORD: "dummy"
          TOKEN_LOCATION: "/data"
        resources:
          requests:
            cpu: 10m
            memory: 100Mi
          limits:
            memory: 500Mi
        probes:
          liveness:
            enabled: false
          readiness:
            enabled: false
service:
  app:
    ports:
      http:
        port: 8056

persistence:
  config:
    enabled: true
    existingClaim: onstar2mqtt-config
    globalMounts:
      - path: "/data"
