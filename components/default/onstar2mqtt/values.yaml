---
controllers:
  app:
    pod:
      annotations:
        reloader.stakater.com/auto: "true"
    containers:
      app:
        image:
          repository: ghcr.io/bigthundersr/onstar2mqtt
          tag: 2.2.1@sha256:6f22cdf07324f84b4e014b44d930cb815175fdcb9b65090a0a065401e86c67d5
        envFrom:
          - secretRef:
              name: onstar2mqtt
        env:
          TZ: "America/New_York"
          MQTT_HOST: "mosquitto.default.svc.cluster.local"
          MQTT_REJECT_UNAUTHORIZED: "false"
          MQTT_USERNAME: "dummy"
          MQTT_PASSWORD: "dummy"
          TOKEN_LOCATION: "/data"
        resources:
          requests:
            cpu: 10m
            memory: 100Mi
          limits:
            memory: 500Mi
        probes:
          liveness:
            enabled: false
          readiness:
            enabled: false
service:
  app:
    ports:
      http:
        port: 8056

persistence:
  config:
    enabled: true
    existingClaim: onstar2mqtt
    globalMounts:
      - path: "/data"
