---
controllers:
  app:
    replicas: 0
    pod:
      annotations:
        reloader.stakater.com/auto: "true"
    containers:
      app:
        image:
          repository: ghcr.io/bigthundersr/onstar2mqtt
          tag: 2.0.1@sha256:cd895f03d7d76a19fcb0d1cc9c64a5a0c7f54d06337d16e492a595ce66b2b2f7
        envFrom:
          - secretRef:
              name: onstar2mqtt
        env:
          TZ: "America/New_York"
          MQTT_HOST: "mosquitto.default.svc.cluster.local"
          MQTT_REJECT_UNAUTHORIZED: "false"
          MQTT_USERNAME: "dummy"
          MQTT_PASSWORD: "dummy"
          TOKEN_LOCATION: "/data"
        resources:
          requests:
            cpu: 10m
            memory: 100Mi
          limits:
            memory: 500Mi
        probes:
          liveness:
            enabled: false
          readiness:
            enabled: false
service:
  app:
    ports:
      http:
        port: 8056

persistence:
  config:
    enabled: true
    existingClaim: onstar2mqtt-config
    globalMounts:
      - path: "/data"
