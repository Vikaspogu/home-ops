---
apiVersion: velero.io/v1
kind: Schedule
metadata:
  name: storage-namespace-pvc
  namespace: storage
  labels:
    backup_type: pvc_only
spec:
  schedule: "*/30 * * * *"  # Every 30min
  useOwnerReferencesInBackup: false
  template:
    ttl: 24h  # 30 days retention
    storageLocation: default
    includedNamespaces:
      - storage
    includedResources:
    - persistentvolumeclaims
    - persistentvolumes
    - pods  # Required for FSB to identify volume mounts
    # Enable File System Backup to capture actual PVC data
    defaultVolumesToFsBackup: true
    snapshotVolumes: false  # Use FSB instead of snapshots
